<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>New tracking code search</title>
    <style>
        input[type="text"] {
            padding: 5px;
            width: 300px;
            margin-bottom: 10px;
        }

        button {
            padding: 5px 10px;
        }

        #searchResult {
            margin-top: 10px;
            border: 1px solid #ccc;
            padding: 10px;
        }
    </style>
</head>

<body>
    <h2>New Tracking Code Search</h2>
    <input type="text" id="searchInput" placeholder="输入要搜索的关键字">
    <button id="searchButton">搜索</button>
    <div id="searchResult"></div>

    <script>
        document.getElementById('searchButton').addEventListener('click', function () {
            var searchInput = document.getElementById('searchInput');
            var searchKeyword = searchInput.value;

            // 当输入框为空时，直接返回，不执行搜索操作
            if (searchKeyword === "") {
                return;
            }

            var xhr = new XMLHttpRequest();
            // 假设TXT文件名为'test.txt'，请根据实际情况更改路径
            xhr.open('GET', '1.txt');
            xhr.responseType = 'text';

            xhr.onload = function () {
                if (xhr.status === 200) {
                    var txtContent = xhr.response;
                    var lines = txtContent.split('\n');
                    var matchedLines = [];

                    for (var i = 0; i < lines.length; i++) {
                        if (lines[i].toLowerCase().indexOf(searchKeyword.toLowerCase())!== -1) {
                            matchedLines.push(lines[i]);
                        }
                    }

                    if (matchedLines.length > 0) {
                    document.getElementById('searchResult').innerHTML = '找到以下匹配内容：<br>' + matchedLines.join('<br>');
                    } else {
                        document.getElementById('searchResult').innerHTML = '未找到匹配内容';
                    }
                } else {
                    document.getElementById('searchResult').innerHTML = '获取TXT文件失败，状态码：' + xhr.status;
                }
            };

            xhr.onerror = function () {
                document.getElementById('searchResult').innerHTML = '请求TXT文件出错，请检查网络或文件路径。';
            }

            xhr.send();
        });
    </script>
</body>

</html>
